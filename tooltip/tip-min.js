function zhezhao_ScollPostion(){var c,b,a,d;if(document.documentElement&&document.documentElement.scrollTop){c=document.documentElement.scrollTop;b=document.documentElement.scrollLeft;a=document.documentElement.scrollWidth;d=document.documentElement.scrollHeight}else{if(document.body){c=document.body.scrollTop;b=document.body.scrollLeft;a=document.body.scrollWidth;d=document.body.scrollHeight}}return{top:c,left:b,width:a,height:d}}function zhezhao_getPageSize(){var a=(document.compatMode&&document.compatMode.toLowerCase()=="css1compat")?document.documentElement:document.body;var d=0;var b=0;var c=0;var f=0;var e=[0,0];e[0]=a.clientHeight;e[1]=a.clientWidth;d=a.offsetWidth;b=a.offsetHeight;c=a.scrollWidth;f=a.scrollHeight;if(b>e[0]){e[0]=b}if(d>e[1]){e[1]=d}if(f>e[0]){e[0]=f}if(c>e[1]){e[1]=c}return e}function zhezhao_getObjWh(b,e){var d=document.documentElement.clientHeight;var a=document.documentElement.clientWidth;var f=Math.max((Number(d)-e)/2,0);var c=Math.max((Number(a)-b)/2,0);return{top:f,left:c}}(function(a){a.fn.extend({zhezhao:function(k){var d={background:"#666",alpha:0.7,zindex:99,effect:"bianda",handle:"zhezhao",moveSelector:"",loadComplete:null,moveEnabled:true,model:true};if(jQuery.browser.msie===true){d.effect="fade"}k=a.extend({},d,k||{});var b=a("#"+k.id);if(b.length==0){a("body").append("<div class='fullbgjssduf' id='"+k.id+"' style='display: none; left: 0px; top: 0px; width: 0px; height: 0px'></div")}b=a("#"+k.id);var f=a(this);if(a("#fullbg_"+k.id).length==0){var i="<div class='fullbgjssduf' id='fullbg_"+k.id+"' style='background-color:"+k.background+";display: none;z-index: "+k.zindex+";position: absolute;left: 0px;top: 0px;filter: Alpha(Opacity="+(k.alpha*100)+");-moz-opacity: "+(k.alpha)+";opacity: "+(k.alpha)+";'></div>";a(document.body).append(i)}var j=zhezhao_ScollPostion();a("#fullbg_"+k.id).css({width:j.width,height:j.height,display:"block"});b.css("z-index",k.zindex+2);b.css("position","fixed");var g=function(){f.resetBg(k,b);var l={};l=b.offset();switch(k.effect){case"zhendong":b.zhendong(b,k,l);break;case"fade":b.fade(b,k,l);break;case"bianda":b.bianda(b,k,l);break;case"noeffect":b.noeffect(b,k,l);break}a(window).resize(function(){f.resetBg(k,b)})};if(k.content){b.html(k.content);g();var h={};h.options=k;return h}var c=function(){var m="<div id='pageLoad' class='tippageload' style='position:absolute;z-index:"+(k.zindex+1)+"></div>";a(document.body).append(m);var l=zhezhao_getObjWh(85,81);a("#pageLoad").css({left:l.left,top:l.top})};var e=function(){a("#pageLoad").remove()};c();b.load(k.url,function(){setTimeout(function(){a("div:first",b).css({"box-shadow":"0px 0px 12px #ded"});e();f.resetBg(k,b);g();if(typeof(k.loadComplete)=="function"){k.loadComplete()}if(k.moveEnabled==true&&k.moveSelector!=""){a(b).moveInWindow(k.moveSelector)}},300)});var h={};h.options=k;return h},moveInWindow:function(c){a(c).css("cursor","move");var e=0;var d=0;var f=a(this);var b=function(g){f.css({left:g.clientX-e,top:g.clientY-d})};a(c).bind("mousedown",function(h){var g=document.onmousedown;document.onmousedown=function(){return false};e=h.clientX-parseFloat(f.css("left"));d=h.clientY-parseFloat(f.css("top"));a(document).bind("mousemove",b);a(document).bind("mouseup",function(){document.onmousedown=g;a(document).unbind("mousemove",b)})})},closezz:function(b){var c=a("#fullbg_"+b.id);var d=a("#"+b.id);d.animate({left:0,top:0,width:0,height:0},500,function(){d.hide();c.remove();if(b!=null&&typeof(b.complete)!="undefined"){b.complete()}});return false},zhendong:function(d,b,e){for(var c=3;c!=0;--c){d.animate({left:e.left+50,top:e.top,width:b.width,height:b.height},20).animate({left:e.left+50,top:e.top+50},20).animate({left:e.left,top:e.top+50},20).animate({left:e.left,top:e.top},20)}},fade:function(c,b,d){c.css({left:d.left,top:d.top,width:b.width,height:b.height,opacity:0});c.animate({opacity:1})},bianda:function(c,b,d){c.css({left:d.left,top:d.top,width:0,height:0});c.animate({left:d.left,top:d.top,width:b.width,height:b.height})},noeffect:function(c,b,d){c.css({left:d.left,top:d.top,width:b.width,height:b.height})},confirm:function(k){var c={background:"#666",alpha:0.7,zindex:200,content:"\u7ead\ue1bc\u757e\u935a\u694b\u7d35",id:"confirm",width:252,height:140,effect:"bianda",ishei:true,cancel:true,sure:true,cancelcontent:"\u9359\u6828\u79f7",surecontent:"\u7ead\ue1bc\u757e",type:"warn",handle:"confirm"};if(jQuery.browser.msie===true){c.effect="fade"}var f=this;k=a.extend({},c,k||{});var d='<div id="confirm_TipContainer" style="z-index:'+(k.zindex+2)+'" class="confirm_TipContainer"><div class="confirm_TipTitle"></div><div id="confirm_TipContent" class="confirm_TipContent"><table border="0" cellpadding="0"><tr valign="center"><td style="width: 15%"><div class="confirm_type confirm_type_'+k.type+'"</td><td style="width:80%">'+k.content+'</td></tr></table></div><div id="confirm_TipButton" class="confirm_TipButton">';if(k.sure){d+='<input id="confirm_yes" type="button" value="'+k.surecontent+'">'}if(k.cancel){d+='<input id="confirm_no" type="button" value="'+k.cancelcontent+'">'}d+="</div></div>";a(document.body).append(d);if(a("#fullbg_"+k.id).length==0){if(!k.ishei){k.alpha=0}var i="<div id='fullbg_"+k.id+"' style='background-color:"+k.background+";display: none;z-index: "+k.zindex+";position: absolute;left: 0px;top: 0px;filter: Alpha(Opacity="+(k.alpha*100)+");-moz-opacity: "+(k.alpha)+";opacity: "+(k.alpha)+";'></div>";a(document.body).append(i)}var b=a("#confirm_TipContainer");var j=zhezhao_ScollPostion();a("#fullbg_"+k.id).css({width:j.width,height:j.height,display:"block"});f.resetBg(k,b);var g={};g=b.offset();var e=function(){b.css({left:g.left,top:g.top,width:k.width,height:k.height})};switch(k.effect){case"zhendong":b.zhendong(b,k,g);break;case"fade":b.fade(b,k,g);break;case"bianda":b.bianda(b,k,g);break;case"noeffect":b.noeffect(b,k,g)}a("#confirm_yes").bind("click",function(l){if(k.complete){k.complete(true)}f.closeconfirm(k,b,g)});a("#confirm_no").bind("click",function(l){if(k.complete){k.complete(false)}f.closeconfirm(k,b,g)});a(window).resize(function(){f.resetBg(k,b)});var h={};h.options=k;return h},closeconfirm:function(c,f,i){var h=function(){a("#confirm_TipContainer").remove();a("#fullbg_confirm").remove()};var e=function(){for(var k=3;k!=0;--k){var j=function(l){f.animate({left:i.left+50,top:i.top,width:c.width,height:c.height},20).animate({left:i.left+50,top:i.top+50},20).animate({left:i.left,top:i.top+50},20).animate({left:i.left,top:i.top},20,function(){if(l==1){h()}})};j(k)}};var g=function(){f.animate({opacity:0},function(){h()})};var d=function(){f.animate({left:i.left+c.width/2,top:i.top+c.height/2,width:0,height:0},function(){h()})};var b=function(){h()};switch(c.effect){case"zhendong":e();break;case"fade":g();break;case"bianda":d();break;case"noeffect":b()}},resetBg:function(b,f){var d=a("#fullbg_"+b.id).css("display");if(d=="block"||b.model==false){var c=zhezhao_getPageSize();a("#fullbg_"+b.id).css({width:c[1],height:c[0]});var e=zhezhao_getObjWh(b.width,b.height);f.css({top:e.top,left:e.left,display:"block"})}}})})(jQuery);
